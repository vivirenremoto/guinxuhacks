<!DOCTYPE html>
<html>

<head>
    <title>Guintxu Hacks</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />



    <link rel="prefetch" href="../static/nube.png" />
    <link href="../static/main.css?v=2" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/mobile/1.5.0-rc1/jquery.mobile-1.5.0-rc1.min.js"></script>
</head>

<body>

    <script src="../static/general.js"></script>

    <style>
        body {
            overflow: hidden;
        }
    </style>

    <div id="nube"
        style="cursor:not-allowed;z-index:3;width:200px;height:200px;margin-left:-100px;position:fixed;background:url('../static/nube.png');background-size:200px 200px;">
    </div>

    <div id="llave" style="z-index:2;width:200px;height:200px;position:absolute;"></div>


    <div id="puerta" style="z-index:1;width:200px;height:200px;margin-left:-100px;position:fixed;bottom:0;">
    </div>


    <img src="../static/help.png" id="help"
        style="cursor:pointer;width:100px;position:fixed;right:10px;bottom:10px;display:none;"
        onclick="alert('¿Has probado de cambiar el tamaño de la ventana del navegador?')">


    <script>

        var pos_x;
        var pos_y;



        pos_x = (screen_width / 2);
        pos_y = (screen_height / 3);


        $('#nube').css('left', pos_x).css('top', pos_y);
        $('#llave').css('left', pos_x - 100).css('top', pos_y);
        $('#puerta').css('left', pos_x);


        $('#llave').click(function () {
            $(this).animate({
                'top': $('#puerta').css('top')
            }, 1000, function () {





                openDoor();
            });
        });




        $(window).resize(function () {


            var screen_width_aux = $(document).width();
            var diff = screen_width - screen_width_aux;

            $("#nube").css('left', pos_x - diff);
        });






        if (is_mobile) {
            $("body").on("swipeleft", function () {
                $("#nube").animate({
                    left: '-=200'
                }, 1000);
            });

            $("body").on("swiperight", function () {
                $("#nube").animate({
                    left: '+=200'
                }, 1000);
            });

        } else {
            var minutes = 5;
            setTimeout(function () {
                $('#help').fadeIn('slow');
            }, 1000 * (minutes * 60));


        }

    </script>



</body>

</html>